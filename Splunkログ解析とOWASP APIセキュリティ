# 📚 TryHackMe 学習ノート：Splunkログ分析とOWASP APIセキュリティ

## 1. ログ分析：Splunkでのデータ取り込みと調査

Splunkの**検索処理言語（SPL）**とカスタムフィールド抽出を活用し、ログデータからセキュリティ上の洞察を抽出するスキルを習得した。

### 📊 主要な習得スキル

* **カスタムログデータの取り込みと解析:**
    * カスタム形式のログデータ（CSV、JSON、未加工テキストなど）をSplunkに正確に取り込む。
    * 取り込んだデータに対し、**正規表現（Regex）**を用いて必要な要素（IP、ユーザー名、リクエスト結果など）を識別し、**カスタムフィールド抽出**を作成・適用することで、データを構造化し、検索可能にする。
* **検索処理言語（SPL）の活用:**
    * `search`、`table`、`stats`、`where`などの基本コマンドとパイプライン (`|`) を使用し、膨大なログの中から目的のイベントを効率的にフィルタリングし、結果を絞り込む。
* **調査と洞察の抽出（ハンティング）:**
    * SPLを駆使し、異常なアクセスパターンやログイン失敗の傾向などを調査（ハンティング）し、セキュリティ上の**重要な洞察（インサイト）**を導き出す。

---

## 2. OWASP API Security Top 10 - 1

APIの安全性を脅かす初期の4つのリスク（A1～A4）に焦点を当て、その識別方法と防御のベストプラクティスを学習した。

### 🛡️ APIセキュリティの学習目標とベストプラクティス

| No. | OWASPカテゴリ | 脆弱性の概要と習得した防御策 |
| :--- | :--- | :--- |
| **A1** | **BOLA (Broken Object Level Authorization)** | **認可レベルの不備:** ユーザーがアクセス権のないリソース（オブジェクト）にアクセスできてしまう問題。サーバー側で**常に認可チェック**を実施するベストプラクティスを理解。 |
| **A2** | **Broken Authentication** | **認証の不備:** 認証プロセスやトークン管理の不備により、攻撃者が他人のIDを騙ることを可能にする。安全な**セッショントークン**の利用とクレデンシャルの安全な取り扱いを学習。 |
| **A3** | **Excessive Data Exposure** | **過剰なデータ公開:** クライアントが必要としない機密データ（内部ID、ハッシュなど）をAPIレスポンスに含めてしまう問題。レスポンスは**必要最小限のデータ**に限定するべきだと理解。 |
| **A4** | **Lack of Resources & Rate Limiting** | **リソースとレート制限の欠如:** APIへのリクエスト頻度やデータサイズに制限がないため、サービス拒否（DoS）攻撃やブルートフォース攻撃を許してしまう。エンドポイントごとに**レート制限**と**ペイロードサイズ制限**を設定する必要性を学習。

---
